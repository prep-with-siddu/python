# 1.4 Operators ‚Äî Notes

> **Status**: ‚úÖ Completed  
> **Date**: 28 February 2026

---

## 1. Arithmetic Operators

```python
a, b = 17, 5

print(a + b)    # 22   Addition
print(a - b)    # 12   Subtraction
print(a * b)    # 85   Multiplication
print(a / b)    # 3.4  True division (always float)
print(a // b)   # 3    Floor division (integer result)
print(a % b)    # 2    Modulo (remainder)
print(a ** b)   # 1419857  Exponentiation (17^5)

# ---- Floor division gotchas ----
print(7 // 2)      # 3
print(-7 // 2)     # -4  (floors TOWARD negative infinity!)
print(7 / 2)       # 3.5

# ---- divmod() ‚Äî quotient and remainder together ----
q, r = divmod(17, 5)
print(q, r)    # 3, 2

# ---- Practical examples ----
# Check if even/odd
print(10 % 2 == 0)    # True (even)
print(7 % 2 == 0)     # False (odd)

# Convert seconds to hours:minutes:seconds
total_seconds = 3725
hours = total_seconds // 3600
minutes = (total_seconds % 3600) // 60
seconds = total_seconds % 60
print(f"{hours}:{minutes:02d}:{seconds:02d}")   # 1:02:05
```

---

## 2. Comparison Operators

```python
a, b = 10, 20

print(a == b)    # False   Equal to
print(a != b)    # True    Not equal to
print(a > b)     # False   Greater than
print(a < b)     # True    Less than
print(a >= b)    # False   Greater than or equal
print(a <= b)    # True    Less than or equal

# ---- Chained comparisons (Pythonic!) ----
x = 15
print(10 < x < 20)      # True  (same as: 10 < x and x < 20)
print(1 <= x <= 100)     # True
print(0 < x < 10)       # False

# ---- String comparison (lexicographic) ----
print("apple" < "banana")   # True
print("abc" == "ABC")       # False (case-sensitive)

# ---- Comparing different types ----
print(1 == 1.0)    # True  (int and float compared by value)
print(1 == True)   # True  (True is essentially 1)
print(0 == False)  # True  (False is essentially 0)
```

---

## 3. Logical Operators

```python
# ---- and, or, not ----
print(True and True)     # True
print(True and False)    # False
print(True or False)     # True
print(False or False)    # False
print(not True)          # False

# ---- Short-circuit evaluation ----
# 'and' stops at first False, 'or' stops at first True
x = 0
# Won't crash even though division by zero would fail:
if x != 0 and 10 / x > 2:    # Short-circuits at x != 0 (False)
    print("Won't reach here")

# ---- Truthiness with and/or (returns actual values!) ----
print("hello" and "world")   # "world"  (both truthy ‚Üí last)
print("" and "world")        # ""       (first falsy ‚Üí returns it)
print("hello" or "world")    # "hello"  (first truthy ‚Üí returns it)
print("" or "world")         # "world"  (first falsy ‚Üí check second)
print("" or 0 or None)       # None     (all falsy ‚Üí returns last)

# ---- Practical: default values ----
name = "" or "Guest"          # "Guest" (empty is falsy)
port = None or 8080           # 8080
config = user_config or default_config

# ---- Practical: guard clause ----
user = get_user(id)
if user and user.is_active:    # Won't crash if user is None
    process(user)
```

---

## 4. Bitwise Operators

```python
a = 0b1010    # 10 in binary
b = 0b1100    # 12 in binary

print(a & b)    # 0b1000 = 8    AND (both bits 1)
print(a | b)    # 0b1110 = 14   OR (either bit 1)
print(a ^ b)    # 0b0110 = 6    XOR (exactly one bit 1)
print(~a)       # -11           NOT (inverts all bits)
print(a << 2)   # 0b101000 = 40   Left shift (multiply by 2^n)
print(a >> 1)   # 0b0101 = 5      Right shift (divide by 2^n)

# ---- Practical uses ----
# Check if number is even/odd (faster than modulo)
print(7 & 1)     # 1 (odd)
print(8 & 1)     # 0 (even)

# Permission flags (like Unix file permissions)
READ = 0b100      # 4
WRITE = 0b010     # 2
EXECUTE = 0b001   # 1

permissions = READ | WRITE    # 6 (read + write)
has_read = permissions & READ  # True-ish (4)
has_exec = permissions & EXECUTE  # 0 (False)

# Swap without temp variable
a, b = 5, 10
a = a ^ b
b = a ^ b
a = a ^ b
print(a, b)   # 10, 5
```

---

## 5. Assignment Operators

```python
x = 10

x += 5      # x = x + 5  ‚Üí 15
x -= 3      # x = x - 3  ‚Üí 12
x *= 2      # x = x * 2  ‚Üí 24
x /= 4      # x = x / 4  ‚Üí 6.0
x //= 2     # x = x // 2 ‚Üí 3.0
x %= 2      # x = x % 2  ‚Üí 1.0
x **= 3     # x = x ** 3 ‚Üí 1.0

# Bitwise assignment
a = 10
a &= 7     # a = a & 7
a |= 3     # a = a | 3
a ^= 1     # a = a ^ 1
a <<= 2    # a = a << 2
a >>= 1    # a = a >> 1

# ‚ö†Ô∏è Python has NO ++ or -- operators!
# x++    # ‚ùå SyntaxError
# x--    # ‚ùå SyntaxError
x += 1    # ‚úÖ Use this instead
```

---

## 6. Identity Operators (`is`, `is not`)

```python
# ---- 'is' checks if SAME OBJECT (same memory), not same value ----
a = [1, 2, 3]
b = [1, 2, 3]
c = a

print(a == b)     # True  (same value)
print(a is b)     # False (different objects in memory!)
print(a is c)     # True  (c points to same object as a)
print(id(a), id(b), id(c))   # a and c share id, b is different

# ---- Use 'is' for None checks ----
x = None
print(x is None)       # ‚úÖ Correct way
# print(x == None)     # Works but not Pythonic

# ---- Integer caching (CPython implementation detail) ----
a = 256
b = 256
print(a is b)    # True (Python caches -5 to 256)

a = 257
b = 257
print(a is b)    # False! (outside cache range)
# Always use == for value comparison!

# ---- When to use 'is' vs '==' ----
# is    ‚Üí checking for None, True, False, singletons
# ==    ‚Üí comparing values (almost everything else)
```

---

## 7. Membership Operators (`in`, `not in`)

```python
# ---- Works with any iterable ----
# Lists
print(3 in [1, 2, 3, 4])         # True
print(5 not in [1, 2, 3, 4])     # True

# Strings
print("ell" in "Hello")          # True
print("xyz" not in "Hello")      # True

# Dicts (checks KEYS by default)
d = {"name": "Sid", "age": 25}
print("name" in d)               # True (checks keys)
print("Sid" in d)                # False (not a key!)
print("Sid" in d.values())       # True (check values)

# Sets (fastest ‚Äî O(1) lookup!)
s = {1, 2, 3, 4, 5}
print(3 in s)                    # True (O(1))

# Tuples
print(2 in (1, 2, 3))            # True

# ---- Performance comparison for 'in' ----
# list: O(n)  ‚Äî checks each element
# set:  O(1)  ‚Äî hash lookup (use sets for frequent lookups!)
# dict: O(1)  ‚Äî hash lookup on keys
# str:  O(n)  ‚Äî substring search
```

---

## 8. Operator Precedence (High to Low)

| Priority | Operator | Description |
|----------|----------|-------------|
| 1 (highest) | `()` | Parentheses |
| 2 | `**` | Exponentiation |
| 3 | `+x`, `-x`, `~x` | Unary plus, minus, NOT |
| 4 | `*`, `/`, `//`, `%` | Multiply, divide, floor div, mod |
| 5 | `+`, `-` | Add, subtract |
| 6 | `<<`, `>>` | Bitwise shifts |
| 7 | `&` | Bitwise AND |
| 8 | `^` | Bitwise XOR |
| 9 | `\|` | Bitwise OR |
| 10 | `==`, `!=`, `>`, `<`, `>=`, `<=`, `is`, `in` | Comparisons |
| 11 | `not` | Logical NOT |
| 12 | `and` | Logical AND |
| 13 (lowest) | `or` | Logical OR |

```python
# ---- Examples ----
print(2 + 3 * 4)        # 14 (not 20! ‚Äî * before +)
print((2 + 3) * 4)      # 20 (parentheses first)
print(2 ** 3 ** 2)       # 512 (right-associative: 2 ** (3**2) = 2**9)
print(not True or False)  # False (not first, then or)

# ‚úÖ When in doubt, USE PARENTHESES for clarity!
result = (a > 0) and (b < 100) or (c == 0)   # Much clearer
```

---

## üîó Quick Reference

```python
# Arithmetic:  +  -  *  /  //  %  **
# Comparison:  ==  !=  >  <  >=  <=
# Logical:     and  or  not
# Bitwise:     &  |  ^  ~  <<  >>
# Identity:    is   is not
# Membership:  in   not in
# Assignment:  =  +=  -=  *=  /=  //=  %=  **=

# Key rules:
# Use == for VALUE comparison
# Use 'is' for IDENTITY (None, True, False)
# Use 'in' with sets for O(1) membership test
# and/or return actual values, not just True/False
```

---

> üìù **Next up**: 1.5 Control Flow
